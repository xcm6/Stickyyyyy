<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky - Daily Check-in</title>
    
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/games/math.css">
    <link rel="stylesheet" href="css/games/slider.css">
    <link rel="stylesheet" href="css/games/puzzle.css">
    <link rel="stylesheet" href="css/games/camera.css">
    <link rel="stylesheet" href="css/games/connect.css">
    <link rel="stylesheet" href="css/games/dodge.css">
    <link rel="stylesheet" href="css/games/reaction.css">
    <link rel="stylesheet" href="css/games/target.css">
    
    <!-- Firebase SDK ES Modules via importmap -->
    <script type="importmap">
    {
        "imports": {
            "firebase/app": "https://esm.sh/firebase@10.7.1/app",
            "firebase/database": "https://esm.sh/firebase@10.7.1/database"
        }
    }
    </script>
</head>
<body>
    <div class="topbar">
        <a href="index.html" class="logo">Sticky</a>
        <nav class="topnav">
            <a href="dlc.html">DLC</a>
            <a href="index.html">Home</a>
            <a href="leaderboard.html">Rank</a>
            <a href="gallery.html">Gallery</a>
            <a href="profile.html">Me</a>
            <a id="authBtn" href="login.html">Login</a>
        </nav>
    </div>

    <div class="container">
        <div class="card" style="text-align: center;">
            <div id="beforeCheckIn" style="height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 40px;">
                <div id="streakDisplay" style="margin-bottom: 20px;">
                    <span id="consecutiveDays" style="font-size: 36px; font-weight: 800; line-height: 1; display:block;">0</span>
                    <div style="color:#888; margin-top: 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 1px;">days streak</div>
                </div>
                
                <div id="gameContainer" style="width: 100%; max-width: 600px; margin: 0 auto; min-height: 350px; display: flex; align-items: center; justify-content: center; flex-direction: column; transition: opacity 0.3s ease; position: relative; overflow: visible;">
                    <p style="color:#aaa;">Loading...</p>
                </div>

                <div id="statusMessage" style="margin-top:15px; height:15px; font-size:11px; color:#666;"></div>
            </div>

            <div id="afterCheckIn" style="display: none; position: relative; opacity: 0; transition: opacity 0.5s ease-in; height: 100%; flex-direction: column; align-items: center; justify-content: center;">
                <div style="font-size: 90px; font-weight: 900; line-height: 1; color: #111; margin-bottom: 15px;" id="finalStreak">0</div>
                <div style="font-size: 18px; color: #888; text-transform: uppercase; letter-spacing: 2px;">Days Streak</div>
                
                <div class="mood-selector">
                    <div id="currentMoodDisplay">âœ¨</div>
                </div>
                
                <div style="margin-top: 15px; font-size: 13px; color: #aaa;">See you tomorrow!</div>
            </div>
        </div>
    </div>

    <!-- Emoji Picker å¼¹å‡ºæ¡†ï¼ˆå…¨å±€å±‚ï¼‰ -->
    <div id="emojiPickerOverlay" class="emoji-picker-overlay"></div>
    <div id="mainEmojiPicker" class="emoji-picker"></div>

    <!-- é€šçŸ¥æŒ‰é’®ï¼ˆå·¦ä¸‹è§’å›ºå®šï¼‰ -->
    <div id="notificationBtn" class="notif-btn">
        ðŸ””
        <span id="notifBadge" class="notif-badge" style="display: none;">0</span>
    </div>
    
    <!-- é€šçŸ¥å¼¹å‡ºé¢æ¿ -->
    <div id="notificationPanel" class="notif-panel" style="display: none;">
        <div class="notif-panel-header">
            <h4 style="margin: 0; font-size: 14px; font-weight: 700;">Notifications</h4>
            <div style="display: flex; gap: 10px; align-items: center;">
                <button id="clearAllNotifBtn" class="clear-notif-btn">Clear All</button>
                <button id="closeNotifBtn" class="close-notif-btn">âœ•</button>
            </div>
        </div>
        <div id="notificationList" class="notif-list"></div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>